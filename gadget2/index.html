<head>
    <script src="js/echarts.min.js"></script>
    <script src="js/jquery.min.js"></script>
</head>
<body>
<div class="center col-lg-12" style="width: 1300px;height:500px;position:relative;">
    <div style="left: 0"><span style="color: black;font-weight: bolder;font-size: 30px;">疫苗接种信息</span></div>

    <div style="width: 500px;height: 350px;top:10px;float: left" id="vaccinationsMain01" ></div>

    <div style="width: 600px;height: 350px;top:10px;float: right" id="vaccinationsMain02"></div>
    <table  bgcolor="#F1F8F4" width="150px" >
      <thead>
      <tr>
        <th style="text-align: center">
          全球累计接种
        </th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td id="worldVac" style="font-weight: bolder;color: #178B50;text-align: center">12356</td>
      </tr>
      </tbody>
    </table>
    <br>
    <table  bgcolor="#F1F8F4" width="150px" >
      <thead>
      <tr>
        <th style="text-align: center">
          中国累计接种
        </th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td id="chinaVac" style="font-weight: bolder;color: #178B50;text-align: center">200</td>
      </tr>
      </tbody>
    </table>
    <script type="text/javascript">

      var ChinaTotal_vaccinations;
      var ChinaTotal_vaccinations_per_hundred;
      var WorldTotal_vaccinations ;
      var WorldTotal_vaccinations_per_hundred;
      function getData(){
        $.ajax({
          type:'get',
          url:'https://api.inews.qq.com/newsqa/v1/automation/modules/list?modules=VaccineTopData',
          data:{
            modules:'VaccineTopData'
          },
          dataType:'json',
          success:function(res){
            ChinaTotal_vaccinations = res.data.VaccineTopData.中国.total_vaccinations;
            ChinaTotal_vaccinations_per_hundred=res.data.VaccineTopData.中国.total_vaccinations_per_hundred;
            WorldTotal_vaccinations = res.data.VaccineTopData.全球.total_vaccinations;
            WorldTotal_vaccinations_per_hundred=res.data.VaccineTopData.全球.total_vaccinations_per_hundred;
            // console.log(ChinaTotal_vaccinations);
            // console.log(ChinaTotal_vaccinations_per_hundred);
            // console.log(WorldTotal_vaccinations);
            // console.log(WorldTotal_vaccinations_per_hundred);
            $("#worldVac").html(WorldTotal_vaccinations+"剂次");
            $("#chinaVac").html(ChinaTotal_vaccinations+"剂次");
            leftDetail(ChinaTotal_vaccinations,WorldTotal_vaccinations);
            rightDetail(ChinaTotal_vaccinations_per_hundred,WorldTotal_vaccinations_per_hundred);
          }
        });
      }
      getData();
      function leftDetail(china,world) {
        var charDom = document.getElementById('vaccinationsMain01');
        var myChart = echarts.init(charDom);
        option = {
          title: {
            text: '全球疫苗接种信息',
            //subtext: 'by Krystal',
            left: 'center'
          },
          tooltip: {
            trigger: 'item',
            formatter:'{b}：{c}剂'
          },
          legend: {
            orient: 'vertical',
            left: 'left',
          },
          series: [
            {
              name: '',
              type: 'pie',
              radius: '50%',
              data: [
                {value: china, name: '中国接种'},
                {value: world-china, name: '海外接种'}
              ],
              emphasis: {
                itemStyle: {
                  shadowBlur: 10,
                  shadowOffsetX: 0,
                  shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
              }
            }
          ]
        };
        myChart.setOption(option);
      }
    </script>
  </div>
</body>